
<!DOCTYPE html>
<html lang="jp">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>同人誌　価格計算 2025</title>

<!-----CSS----------------------------------------------------------------->
<style>

html{
	font-size: max(62.5%,16px);
	touch-action: manipulation;
}

body{
	width:80%;
	max-width: 640px;
	margin: 0 auto;
}

.h1{
	margin-bottom: 10px;
	font-size: calc(100% + 1vw);
}
.h6{
	margin-top:10px;
	font-size: calc(35% + 1vw);
}
.h6>div>.li{
	margin-left: 30px;
	width: 50%;
	display: flex;
	/* text-align: right; */
	grid-template-columns: repeat(3,1fr);
	/* grid-auto-columns: min-content; */
	grid-auto-columns: auto;
}
.h6>.div>.li>div{
	/* width:10%; */
	/* width: auto; */
}
.button_r{
	width:100%;
	font-size: calc(100% + 1vw);
}
.table{
	display: flex;
	flex-wrap: wrap;
}

.row{
	display: flex;
	width: 100%;
	margin-bottom: 15px;
	border-top: 1px solid #000;
    border-left: 1px solid #000;
	
}
.item_block{
	display: flex;
	flex-wrap: wrap;
	width: 33.333%;
	/* border:1px  solid #140303; */
	flex-direction: column;
}

.hyoshi_count{
	display: flex;
		box-sizing: border-box;
	    border-right: 1px solid #000;
    	border-bottom: 1px solid #000;
	flex-wrap: wrap;
	width:100%;
	/* align-items: stretch; */
	/* align-items: flex-end; */
}
	.hyoshi{
		display: flex;
		position: relative;
		width: 100%;
		aspect-ratio: 21/30;
		/* height: calc(width*1.5); */
	}
	.hyoshi>img{
		display: flex;
		width: 100%;
		/* aspect-ratio: 21/30; */
		object-fit: contain;
	}
	.hyoshi>.count{
		display: none;
		/* display: flex; */
		position: absolute;
		width: 100%;
		height: 100%;
		top:0;
		left:0;
		background-color: #FFF;
		opacity: 0.7;
	}
	.hyoshi>.count_num{
		display: none;
		/* display: flex; */
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%,-50%);
		font-size: calc(150% + 1.5vw);
		background-color: #666;
		color: #FFF;
		padding: 0px 15px 5px 15px;
	}
	
.title{
	display: flex;
	flex-grow: 1;
	width: 100%;
	/* height:60px; */
	/* text-align: center; */
	justify-content: space-around;
	font-size: calc(50% + 1vw);
		box-sizing: border-box;
		border-right: 1px solid #000;
}
.price_button{
	display: flex;
	/* align-self: flex-end; */
	flex-wrap: wrap;
	width:100%;
		box-sizing: border-box;
		border-right: 1px solid #000;
		border-bottom: 1px solid #000;
}
	.price{
		display: flex;
		/* align-items: flex-end; */
		width: 100%;
		/* text-align: center; */
		justify-content: space-around;
		/* align-self: flex-end; */
		font-size: calc(50% + 1vw);
	}
	.count_pm{
		display: flex;
		padding-top: 10px;
		padding-bottom: 10px;
		width:100%;
		background-color: #DDD;
	}
	.button_p{
		width: 30%;
		text-align: center;
	}
	.button_m{
		width: 100%;
		height: 100%;
		text-align: center;
		/* display: flex; */
		/* align-items: flex-end; */

	}
		.button_m>button,.button_p>button{
			/*display: block;*/
			width: 80%;
			/* height: 80%; */
			text-align: center;
			font-size: calc(75% + 1vw);

		}

</style>
</head>

<!-----HTML---------------------------------------------------------------->
<body>
<div class="h1">合計金額：<span id="result">0</span>円</div>
<div class="h6">（お釣り例）
	<div>
		<div class="li"><div id="azukari3">1,000 円</div><div>　⇒　</div><div id="otsuri3">0 円</div></div>
		<div class="li"><div id="azukari3_2">1,000 円</div><div>　⇒　</div><div id="otsuri3_2">0 円</div></div>
		<div class="li"><div id="azukari2">5,000 円</div><div>　⇒　</div><div id="otsuri2">0 円</div></div>
		<div class="li"><div id="azukari1">10,000 円</div><div>　⇒　</div><div id="otsuri1">0 円</div></div>
	</div>
</div>
<br>
<button class="button_r" onclick="reset();">リセット</button><br><br>

<div class="table">
	<div class="row">

		<div class="item_block">
			<div class="hyoshi_count">
				<div class="hyoshi" id="plus1">
					<img src="./img2025/hangesyo7.jpg" alt="半夏生の本7の表紙">
					<div class="count"></div>
					<div class="count_num" id="Qty1">0</div>
				</div>
			</div>
			<div class="title">半夏生の本 7</div>
			<div class="price_button">
				<div class="price">600円</div>
				<div class="count_pm">
					<div class="button_m"><button id="minus1">減らす</button></div>
				</div>
			</div>
		</div>

		<div class="item_block">
			<div class="hyoshi_count">
				<div class="hyoshi" id="plus2">
					<img src="./img2025/hangesyo6.jpg" alt="半夏生の本6の表紙">
					<div class="count"></div>
					<div class="count_num" id="Qty2">0</div>
				</div>
			</div>
			<div class="title">半夏生の本 6</div>
			<div class="price_button">
				<div class="price">500円</div>
				<div class="count_pm">
					<div class="button_m"><button id="minus2">減らす</button></div>
				</div>
			</div>
		</div>

		<div class="item_block">
			<div class="hyoshi_count">
				<div class="hyoshi" id="plus3">
					<img src="./img2025/hangesyo5.jpg" alt="半夏生の本5の表紙">
					<div class="count"></div>
					<div class="count_num" id="Qty3">0</div>
				</div>
			</div>
			<div class="title" >半夏生の本 5</div>
			<div class="price_button">
				<div class="price" >300円</div>
				<div class="count_pm">
					<div class="button_m"><button id="minus3">減らす</button></div>
				</div>
			</div>
		</div>

	</div>
	<div class="row">
		<div class="item_block">
			<div class="hyoshi_count">
				<div class="hyoshi" id="plus4">
					<img src="./img2025/hangesyo4.jpg" alt="半夏生の本4の表紙">
					<div class="count"></div>
					<div class="count_num" id="Qty4">0</div>
				</div>
			</div>
			<div class="title">半夏生の本 4</div>
			<div class="price_button">
				<div class="price">300円</div>
				<div class="count_pm">
					<div class="button_m"><button id="minus4">減らす</button></div>
				</div>
			</div>
		</div>
		<div class="item_block">
			<div class="hyoshi_count">
				<div class="hyoshi" id="plus5">
					<img src="./img2025/kikiyumegatari.jpg" alt="キキユメガタリの表紙">
					<div class="count"></div>
					<div class="count_num" id="Qty5">0</div>
				</div>
			</div>
			<div class="title">キキユメガタリ</div>
			<div class="price_button">
				<div class="price">800円</div>
				<div class="count_pm">
					<div class="button_m"><button id="minus5">減らす</button></div>
				</div>
			</div>
		</div>
		<div class="item_block">
			<div class="hyoshi_count">
				<div class="hyoshi" id="plus6">
					<img src="./img2025/utsutsugoya.jpg" alt="現五夜の表紙">
					<div class="count"></div>
					<div class="count_num" id="Qty6">0</div>	
				</div>
			</div>
			<div class="title">現五夜</div>
			<div class="price_button">
				<div class="price">700円</div>
				<div class="count_pm">
					<div class="button_m"><button id="minus6">減らす</button></div>
				</div>
			</div>
		</div>
	</div>
</div>
</body>

</html>

<!-----javascript-------------------------------------------------------->
<script language="javascript" type="text/javascript">

//計算結果--------------
var result = document.getElementById("result");
var azukari = document.getElementById("azukari");
var total = 0;
var oturi = document.getElementById("otsuri");
var otsuri_sub = 0;

function result_calc(){
	price1 = 600 * Count1;
	price2 = 500 * Count2;
	price3 = 300 * Count3;
	price4 = 300 * Count4;
	price5 = 800 * Count5;
	price6 = 700 * Count6;
	total = price1+price2+price3+price4+price5+price6;
	if(total%1000 < 500){
		otsuri_sub = total%1000;
	}else{
		otsuri_sub = total%1000 -500;
	}
	
	result.innerHTML = price1+price2+price3+price4+price5+price6;//-discount;
	otsuri1.innerHTML = (10000-total).toLocaleString()+` 円`;
	otsuri2.innerHTML = (5000-total).toLocaleString()+` 円`;
	azukari3.innerHTML = ((Math.floor(total/1000) +1)*1000).toLocaleString()+` 円`;
	otsuri3.innerHTML = (((Math.floor(total/1000) +1)*1000) - total).toLocaleString()+` 円`;
	azukari3_2.innerHTML = ((Math.floor(total/1000) +1)*1000+otsuri_sub).toLocaleString()+` 円`;
	otsuri3_2.innerHTML = (((Math.floor(total/1000) +1)*1000)+otsuri_sub - total).toLocaleString()+` 円`;

	if(Count1>0){
		document.querySelector("#plus1 > div.count").style.display = 'flex';
		document.querySelector("#plus1 > div.count_num").style.display = 'flex';
	}else{
		document.querySelector("#plus1 > div.count").style.display = 'none';
		document.querySelector("#plus1 > div.count_num").style.display = 'none';
	}
	if(Count2>0){
		document.querySelector("#plus2 > div.count").style.display = 'flex';
		document.querySelector("#plus2 > div.count_num").style.display = 'flex';
	}else{
		document.querySelector("#plus2 > div.count").style.display = 'none';
		document.querySelector("#plus2 > div.count_num").style.display = 'none';
	}
	if(Count3>0){
		document.querySelector("#plus3 > div.count").style.display = 'flex';
		document.querySelector("#plus3 > div.count_num").style.display = 'flex';
	}else{
		document.querySelector("#plus3 > div.count").style.display = 'none';
		document.querySelector("#plus3 > div.count_num").style.display = 'none';
	}
	if(Count4>0){
		document.querySelector("#plus4 > div.count").style.display = 'flex';
		document.querySelector("#plus4 > div.count_num").style.display = 'flex';
	}else{
		document.querySelector("#plus4 > div.count").style.display = 'none';
		document.querySelector("#plus4 > div.count_num").style.display = 'none';
	}
	if(Count5>0){
		document.querySelector("#plus5 > div.count").style.display = 'flex';
		document.querySelector("#plus5 > div.count_num").style.display = 'flex';
	}else{
		document.querySelector("#plus5 > div.count").style.display = 'none';
		document.querySelector("#plus5 > div.count_num").style.display = 'none';
	}
	if(Count6>0){
		document.querySelector("#plus6 > div.count").style.display = 'flex';
		document.querySelector("#plus6 > div.count_num").style.display = 'flex';
	}else{
		document.querySelector("#plus6 > div.count").style.display = 'none';
		document.querySelector("#plus6 > div.count_num").style.display = 'none';
	}

}


//1冊目-----------------
var QtyCount1 = document.getElementById("Qty1"); 
var plusButton1 = document.getElementById("plus1");
var minusButton1 = document.getElementById("minus1");
var Count1 = 0;
var price1 = 0;

plusButton1.addEventListener('click', () => {
	Count1 ++;
	QtyCount1.innerHTML = Count1;
	result_calc();
});
minusButton1.addEventListener('click', () => {
	if(Count1>0){
		Count1 --;
		QtyCount1.innerHTML = Count1;
	}
	result_calc();
});

//2冊目-----------------
var QtyCount2 = document.getElementById("Qty2"); 
var plusButton2 = document.getElementById("plus2");
var minusButton2 = document.getElementById("minus2");
var Count2 = 0;
var price2 = 0;

plusButton2.addEventListener('click', () => {
	Count2 ++;
	QtyCount2.innerHTML = Count2;
	result_calc();
});
minusButton2.addEventListener('click', () => {
	if(Count2>0){
		Count2 --;
		QtyCount2.innerHTML = Count2;
	}
	result_calc();
});

//3冊目-----------------
var QtyCount3 = document.getElementById("Qty3");
var plusButton3 = document.getElementById("plus3");
var minusButton3 = document.getElementById("minus3");
var Count3 = 0;
var price3 = 0;

plusButton3.addEventListener('click', () => {
	Count3 ++;
	QtyCount3.innerHTML = Count3;
	result_calc();
});
minusButton3.addEventListener('click', () => {
	if(Count3>0){
		Count3 --;
		QtyCount3.innerHTML = Count3;
	}
	result_calc();
});

//4冊目-----------------
var QtyCount4 = document.getElementById("Qty4");
var plusButton4 = document.getElementById("plus4");
var minusButton4 = document.getElementById("minus4");
var Count4 = 0;
var price4 = 0;

plusButton4.addEventListener('click', () => {
	Count4 ++;
	QtyCount4.innerHTML = Count4;
	result_calc();
});
minusButton4.addEventListener('click', () => {
	if(Count4>0){
		Count4 --;
		QtyCount4.innerHTML = Count4;
	}
	result_calc();
});

//5冊目-----------------
var QtyCount5 = document.getElementById("Qty5"); 
var plusButton5 = document.getElementById("plus5");
var minusButton5 = document.getElementById("minus5");
var Count5 = 0;
var price5 = 0;

plusButton5.addEventListener('click', () => {
	Count5 ++;
	QtyCount5.innerHTML = Count5;
	result_calc();
});
minusButton5.addEventListener('click', () => {
	if(Count5>0){
		Count5 --;
		QtyCount5.innerHTML = Count5;
	}
	result_calc();
});

//6冊目-----------------
var QtyCount6 = document.getElementById("Qty6"); 
var plusButton6 = document.getElementById("plus6");
var minusButton6 = document.getElementById("minus6");
var Count6 = 0;
var price6 = 0;

plusButton6.addEventListener('click', () => {
	Count6 ++;
	QtyCount6.innerHTML = Count6;
	result_calc();
});
minusButton6.addEventListener('click', () => {
	if(Count6>0){
		Count6 --;
		QtyCount6.innerHTML = Count6;
	}
	result_calc();
});


//リセット-----------------
function reset(){
	Count1 = 0;
	Count2 = 0;
	Count3 = 0;
	Count4 = 0;
	Count5 = 0;
	Count6 = 0;
	QtyCount1.innerHTML = Count1;
	QtyCount2.innerHTML = Count2;
	QtyCount3.innerHTML = Count3;
	QtyCount4.innerHTML = Count4;
	QtyCount5.innerHTML = Count5;
	QtyCount6.innerHTML = Count6;
	result_calc();
};


</script>
